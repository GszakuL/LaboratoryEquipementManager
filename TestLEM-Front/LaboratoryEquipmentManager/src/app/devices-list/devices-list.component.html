<div class="container">
  <h2>Lista urządzeń</h2>
  <div class="container-fluid d-flex justify-content-between p-0 mb-2">
    <form class="d-flex" role="search">
      <input
        id="modelNameSearch"
        class="form-control me-2"
        type="search"
        placeholder="Model urządzenia"
        aria-label="Search"
        [formControl]="modelNameSearchFC"
      />
      <input
        id="measuredValueSearch"
        class="form-control me-2"
        type="search"
        placeholder="Wartość mierzona"
        aria-label="Search"
        [formControl]="measuredValueSearchFC"
      />
      <button class="btn btn-outline-success" type="submit" (click)="find()">
        Znajdź
      </button>
    </form>
    <button
      type="button"
      class="btn btn-primary"
      (click)="navigateToAddDevice()"
    >
      Dodaj urządzenie
    </button>
  </div>
  <table class="table table-striped table-bordered border-secondary-subtle">
    <thead>
      <tr>
        <th scope="col" class="align-middle">
          Numer identyfikacyjny urządzenia
        </th>
        <th scope="col" class="align-middle">Model</th>
        <th scope="col" class="align-middle">Numer Seryjny</th>
        <th scope="col" class="align-middle">Wielkości mierzone</th>
        <th scope="col" class="align-middle">Miejsce przechowywania</th>
        <th scope="col" class="align-middle">Data Produkcji</th>
        <th scope="col" class="align-middle">Data ostatniej kalibracji</th>
      </tr>
    </thead>
    <tbody>
      <tr
        class="clickable-row"
        *ngFor="let device of DevicesList.items; let i = index"
        [attr.id]="'row-id-' + i"
        (click)="openDeviceDetails(device)"
      >
        <td>{{ device.deviceIdentificationNumber ?? "--" }}</td>
        <td>{{ device.modelName ?? "--" }}</td>
        <td>{{ device.modelSerialNumber ?? "--" }}</td>
        <td>{{ measuredValuesAsStringTab[i] }}</td>
        <td>{{ device.storageLocation ?? "--" }}</td>
        <td>{{ device.productionDate ?? "--" }}</td>
        <td>{{ device.lastCalibrationDate ?? "--" }}</td>
      </tr>
    </tbody>
  </table>
  <mat-paginator
    [length]="totalDevicesCount"
    [pageSize]="10"
    [pageSizeOptions]="[10, 20, 50, 100]"
    (initialized)="setInitPageSize($event)"
    (page)="onPageChanged($event)"
  >
  </mat-paginator>
</div>
